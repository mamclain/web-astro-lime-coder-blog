---
import { getCollection } from "astro:content";
import Base from "../../layouts/base.astro";

export async function getStaticPaths() {
    const posts = await getCollection("blog");
    return posts.map((post) => ({
        params: { slug: post.slug },
        props: { post },
    }));
}

const { post } = Astro.props;
---

<Base title={post.data.title}>
    <h1>{post.data.title}</h1>
    <p><em>{post.data.date.toLocaleDateString()}</em></p>
    {post.data.image && <img src={post.data.image} alt="" />}
    <div set:html={post.body} />
</Base>